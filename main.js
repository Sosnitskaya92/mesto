(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r,o,i,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e.name,this._link=e.link,this._likes=e.likes,this._owner=e.owner._id,this.id=e._id,this._userId=n,this._cardSelector=r,this._handleCardClick=o,this._handleLikeClick=i,this._handleDeleteCard=u}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"deleteElement",value:function(){this._element.remove(),this._element=null}},{key:"_setEventListners",value:function(){var e=this;this._element.querySelector(".element__heart").addEventListener("click",(function(){return e._handleLikeClick(e)})),this._element.querySelector(".element__delete").addEventListener("click",(function(){return e._handleDeleteCard(e)})),this._element.querySelector(".element__image").addEventListener("click",(function(){return e._handleCardClick(e._link,e._name)}))}},{key:"generateCard",value:function(){this._element=this._getTemplate(),this._setEventListners(),this.handleDeleteButton(),this.updateLikeButton();var e=this._element.querySelector(".element__image");return this._element.querySelector(".element__title").textContent=this._name,e.src=this._link,e.alt=this._name,this._element.querySelector(".element__heart-number").textContent=this._likes.length,this._element}},{key:"checkCardOwner",value:function(){if(this._userId===this._owner)return!0}},{key:"handleDeleteButton",value:function(){!0===this.checkCardOwner()?this._element.querySelector(".element__delete").classList.remove("element__delete_inactive"):this._element.querySelector(".element__delete").classList.add("element__delete_inactive")}},{key:"isLiked",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._userId}))}},{key:"updateLikeButton",value:function(){this.isLiked()?this._element.querySelector(".element__heart").classList.add("element__heart_active"):this._element.querySelector(".element__heart").classList.remove("element__heart_active")}},{key:"_updateLikeNumber",value:function(){this._element.querySelector(".element__heart-number").textContent=this._likes.length,this._element.querySelector(".element__heart").classList.toggle("element__heart_active")}},{key:"setLikes",value:function(e){this._likes=e,this._updateLikeNumber()}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,r;return t=e,(r=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._validationConfig=t,this._elementForm=n,this._submitButton=this._elementForm.querySelector(this._validationConfig.submitButtonSelector),this._inputList=Array.from(this._elementForm.querySelectorAll(this._validationConfig.inputSelector))}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t){var n=this._elementForm.querySelector(".".concat(e.id,"-error"));e.classList.add(this._validationConfig.inputErrorClass),n.textContent=t,n.classList.add(this._validationConfig.errorClass)}},{key:"_hideInputError",value:function(e){var t=this._elementForm.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._validationConfig.inputErrorClass),t.classList.remove(this._validationConfig.errorClass),t.textContent=""}},{key:"_isValid",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"toggleButtonState",value:function(){this._hasInvalidInput()?(this._submitButton.setAttribute("disabled",!0),this._submitButton.classList.add(this._validationConfig.inactiveButtonClass)):(this._submitButton.removeAttribute("disabled"),this._submitButton.classList.remove(this._validationConfig.inactiveButtonClass))}},{key:"_setEventListener",value:function(){var e=this;this.toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._isValid(t),e.toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListener()}},{key:"resetErrorValidation",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)}))}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){"Escape"===e.key&&o.closePopup()},(n="_handleEscClose")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popup=document.querySelector(t)}var t,n;return t=e,(n=[{key:"openPopup",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"closePopup",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("click",(function(t){(t.target.classList.contains("popup_opened")||t.target.classList.contains("popup__close"))&&e.closePopup()}))}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=f(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},s.apply(this,arguments)}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(o){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._submitFormFunction=t,n._form=n._popup.querySelector(".popup__form"),n._inputList=n._form.querySelectorAll(".popup__input"),n._submitButton=n._popup.querySelector(".popup__save"),n}return t=u,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){return e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;s(d(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submitButton.textContent="Сохранение...",e._submitFormFunction(e._getInputValues())}))}},{key:"backTextButton",value:function(){this._submitButton.textContent="Сохранить"}},{key:"closePopup",value:function(){this._form.reset(),s(d(u.prototype),"closePopup",this).call(this)}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(a);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function m(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=k(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},g.apply(this,arguments)}function k(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(n);if(r){var o=w(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return m(this,e)});function i(e){var t,n,r,u,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a=function(e,r){n._imagePopupPicture.src=e,n._imagePopupPicture.alt=r,n._subtitlePopup.textContent=r,g((t=b(n),w(i.prototype)),"openPopup",t).call(t)},(u="openPopupImage")in(r=b(n=o.call(this,e)))?Object.defineProperty(r,u,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[u]=a,n._imagePopupPicture=n._popup.querySelector(".popup__image"),n._subtitlePopup=n._popup.querySelector(".popup__subtitle"),n}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(a);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=C(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},O.apply(this,arguments)}function C(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}function L(e,t){return L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},L(e,t)}function j(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(o){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return j(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._form=t._popup.querySelector(".popup__form_delete"),t}return t=u,(n=[{key:"handleSubmit",value:function(e){this._submitHandler=e}},{key:"setEventListeners",value:function(){var e=this;O(q(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submitHandler()}))}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(a);function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var B=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(t),this._job=document.querySelector(n),this._avatar=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,job:this._job.textContent}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._job.textContent=e.about,this._avatar.src=e.avatar,this._id=e._id}}])&&I(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x,U=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=t.baseUrl,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"users/me"),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"cards/"),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"editUserInfo",value:function(e){return fetch("".concat(this._baseUrl,"users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._checkResponse)}},{key:"addCard",value:function(e){return fetch("".concat(this._baseUrl,"cards/"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._checkResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"putCardLike",value:function(e){return fetch("".concat(this._baseUrl,"cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"deleteCardLike",value:function(e){return fetch("".concat(this._baseUrl,"cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"editAvatar",value:function(e){return fetch("".concat(this._baseUrl,"users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._checkResponse)}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),A={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__save",inactiveButtonClass:"popup__save_inactive",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_active"},D=document.querySelector(".profile__edit"),V=document.querySelector(".profile__add"),F=document.querySelector(".profile__avatar-edit"),N=document.querySelector(".popup__input_type_name"),H=document.querySelector(".popup__input_type_info"),J=document.querySelector(".popup_edit"),G=document.querySelector(".popup_add"),M=document.querySelector(".popup_edit-avatar");function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=new B(".profile__title",".profile__text",".profile__avatar"),K=new i(A,J);K.enableValidation();var Q=new i(A,G);Q.enableValidation();var W=new i(A,M);W.enableValidation();var X=new S(".popup_open");X.setEventListeners();var Y=new _(".popup_edit",(function(e){ne.editUserInfo(e).then((function(e){ce(e),Y.closePopup()})).catch((function(e){console.log(e)})).finally((function(){Y.backTextButton()}))}));Y.setEventListeners();var Z=new _(".popup_add",(function(e){ne.addCard(e).then((function(e){re.addItem(ae(e)),Z.closePopup()})).catch((function(e){console.log(e)})).finally((function(){Z.backTextButton()}))}));Z.setEventListeners();var ee=new _(".popup_edit-avatar",(function(e){!function(e){ne.editAvatar(e).then((function(e){ce(e),ee.closePopup()})).catch((function(e){console.log(e)})).finally((function(){ee.backTextButton()}))}(e)}));ee.setEventListeners();var te=new R(".popup_delete");te.setEventListeners();var ne=new U({baseUrl:"https://mesto.nomoreparties.co/v1/cohort36/",headers:{authorization:"9bb3333e-8dc8-44bf-a219-29f503167caa","Content-Type":"application/json"}}),re=new r({renderer:function(e){var t=ae(e);re.addItem(t)}},".elements");function oe(e,t){X.openPopupImage(e,t)}function ie(e){te.openPopup(),te.handleSubmit((function(){ne.deleteCard(e.id).then((function(){e.deleteElement()})).then((function(){te.closePopup()})).catch((function(e){console.log(e)}))}))}function ue(e){e.isLiked()?ne.deleteCardLike(e.id).then((function(t){e.setLikes(t.likes)})).catch((function(e){console.log(e)})):ne.putCardLike(e.id).then((function(t){e.setLikes(t.likes)})).catch((function(e){console.log(e)})),console.log(e)}function ae(e){return new t(e,x,".element__template",oe,ue,ie).generateCard()}function ce(e){$.setUserInfo(e)}Promise.all([ne.getUserInfo(),ne.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];x=o._id,$.setUserInfo(o),re.renderItems(i)})).catch((function(e){console.log(e)})),D.addEventListener("click",(function(){var e;e=$.getUserInfo(),N.value=e.name,H.value=e.job,Y.openPopup(),K.resetErrorValidation()})),V.addEventListener("click",(function(){Z.openPopup(),Q.toggleButtonState(),Q.resetErrorValidation()})),F.addEventListener("click",(function(){ee.openPopup(),W.toggleButtonState(),W.resetErrorValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoiNkxBQXFCQSxFQUFBQSxXQUNuQixXQUFZQyxFQUFNQyxFQUFRQyxFQUFjQyxFQUFpQkMsRUFBaUJDLEksNEZBQWtCLFNBQzFGQyxLQUFLQyxNQUFRUCxFQUFLUSxLQUNsQkYsS0FBS0csTUFBUVQsRUFBS1UsS0FDbEJKLEtBQUtLLE9BQVNYLEVBQUtZLE1BQ25CTixLQUFLTyxPQUFTYixFQUFLYyxNQUFNQyxJQUN6QlQsS0FBS1UsR0FBS2hCLEVBQUtlLElBRWZULEtBQUtXLFFBQVVoQixFQUVmSyxLQUFLWSxjQUFnQmhCLEVBQ3JCSSxLQUFLYSxpQkFBbUJoQixFQUN4QkcsS0FBS2MsaUJBQW1CaEIsRUFDeEJFLEtBQUtlLGtCQUFvQmhCLEUsaURBRzNCLFdBT0UsT0FOb0JpQixTQUNqQkMsY0FBY2pCLEtBQUtZLGVBQ25CTSxRQUNBRCxjQUFjLFlBQ2RFLFdBQVUsSywyQkFLZixXQUNFbkIsS0FBS29CLFNBQVNDLFNBQ2RyQixLQUFLb0IsU0FBVyxPLCtCQUdsQixXQUFvQixXQUNsQnBCLEtBQUtvQixTQUFTSCxjQUFjLG1CQUFtQkssaUJBQWlCLFNBQVMsa0JBQU0sRUFBS1IsaUJBQWlCLE1BQ3JHZCxLQUFLb0IsU0FBU0gsY0FBYyxvQkFBb0JLLGlCQUFpQixTQUFTLGtCQUFNLEVBQUtQLGtCQUFrQixNQUN2R2YsS0FBS29CLFNBQVNILGNBQWMsbUJBQW1CSyxpQkFBaUIsU0FBUyxrQkFBTSxFQUFLVCxpQkFBaUIsRUFBS1YsTUFBTyxFQUFLRixZLDBCQUd4SCxXQUNFRCxLQUFLb0IsU0FBV3BCLEtBQUt1QixlQUNyQnZCLEtBQUt3QixvQkFDTHhCLEtBQUt5QixxQkFDTHpCLEtBQUswQixtQkFFTCxJQUFNQyxFQUFlM0IsS0FBS29CLFNBQVNILGNBQWMsbUJBT2pELE9BTkFqQixLQUFLb0IsU0FBU0gsY0FBYyxtQkFBbUJXLFlBQWM1QixLQUFLQyxNQUNsRTBCLEVBQWFFLElBQU03QixLQUFLRyxNQUN4QndCLEVBQWFHLElBQU05QixLQUFLQyxNQUV4QkQsS0FBS29CLFNBQVNILGNBQWMsMEJBQTBCVyxZQUFjNUIsS0FBS0ssT0FBTzBCLE9BRXpFL0IsS0FBS29CLFcsNEJBR2QsV0FDRSxHQUFJcEIsS0FBS1csVUFBWVgsS0FBS08sT0FDeEIsT0FBUSxJLGdDQUlaLFlBQ2dDLElBQTFCUCxLQUFLZ0MsaUJBQ1BoQyxLQUFLb0IsU0FBU0gsY0FBYyxvQkFBb0JnQixVQUFVWixPQUFPLDRCQUVqRXJCLEtBQUtvQixTQUFTSCxjQUFjLG9CQUFvQmdCLFVBQVVDLElBQUksOEIscUJBSWxFLFdBQVUsV0FDUixPQUFPbEMsS0FBS0ssT0FBTzhCLE1BQUssU0FBQTNCLEdBQUssT0FBSUEsRUFBTUMsTUFBUSxFQUFLRSxhLDhCQUd0RCxXQUNNWCxLQUFLb0MsVUFDUHBDLEtBQUtvQixTQUFTSCxjQUFjLG1CQUFtQmdCLFVBQVVDLElBQUkseUJBRTdEbEMsS0FBS29CLFNBQVNILGNBQWMsbUJBQW1CZ0IsVUFBVVosT0FBTywyQiwrQkFJcEUsV0FDRXJCLEtBQUtvQixTQUFTSCxjQUFjLDBCQUEwQlcsWUFBYzVCLEtBQUtLLE9BQU8wQixPQUNoRi9CLEtBQUtvQixTQUFTSCxjQUFjLG1CQUFtQmdCLFVBQVVJLE9BQU8sMkIsc0JBR2xFLFNBQVNDLEdBQ1B0QyxLQUFLSyxPQUFTaUMsRUFDZHRDLEtBQUt1Qyx5QixzRUF0Rlk5QyxHLDBLQ0FBK0MsRUFBQUEsV0FDbkIsYUFBd0JDLEdBQW1CLElBQTlCQyxFQUE4QixFQUE5QkEsVSw0RkFBOEIsU0FDekMxQyxLQUFLMkMsVUFBWUQsRUFFakIxQyxLQUFLNEMsV0FBYTVCLFNBQVNDLGNBQWN3QixHLDRDQUczQyxTQUFRSSxHQUNON0MsS0FBSzRDLFdBQVdFLFFBQVFELEsseUJBRzFCLFNBQVlFLEdBQU8sV0FDakJBLEVBQU1DLFNBQVEsU0FBQ0MsR0FDYixFQUFLTixVQUFVTSxXLHNFQWJBVCxHLDBLQ0FBVSxFQUFBQSxXQUNuQixXQUFZQyxFQUFrQkMsSSw0RkFBYSxTQUN6Q3BELEtBQUtxRCxrQkFBb0JGLEVBQ3pCbkQsS0FBS3NELGFBQWVGLEVBQ3BCcEQsS0FBS3VELGNBQWdCdkQsS0FBS3NELGFBQWFyQyxjQUFjakIsS0FBS3FELGtCQUFrQkcsc0JBQzVFeEQsS0FBS3lELFdBQWFDLE1BQU1DLEtBQUszRCxLQUFLc0QsYUFBYU0saUJBQWlCNUQsS0FBS3FELGtCQUFrQlEsZ0Isb0RBR3pGLFNBQWdCQyxFQUFjQyxHQUM1QixJQUFNQyxFQUFlaEUsS0FBS3NELGFBQWFyQyxjQUFsQixXQUFvQzZDLEVBQWFwRCxHQUFqRCxXQUNyQm9ELEVBQWE3QixVQUFVQyxJQUFJbEMsS0FBS3FELGtCQUFrQlksaUJBQ2xERCxFQUFhcEMsWUFBY21DLEVBQzNCQyxFQUFhL0IsVUFBVUMsSUFBSWxDLEtBQUtxRCxrQkFBa0JhLGMsNkJBR3BELFNBQWdCSixHQUNkLElBQU1FLEVBQWVoRSxLQUFLc0QsYUFBYXJDLGNBQWxCLFdBQW9DNkMsRUFBYXBELEdBQWpELFdBQ3JCb0QsRUFBYTdCLFVBQVVaLE9BQU9yQixLQUFLcUQsa0JBQWtCWSxpQkFDckRELEVBQWEvQixVQUFVWixPQUFPckIsS0FBS3FELGtCQUFrQmEsWUFDckRGLEVBQWFwQyxZQUFjLEssc0JBRzdCLFNBQVNrQyxHQUNGQSxFQUFhSyxTQUFTQyxNQUd6QnBFLEtBQUtxRSxnQkFBZ0JQLEdBRnJCOUQsS0FBS3NFLGdCQUFnQlIsRUFBY0EsRUFBYVMscUIsOEJBTXBELFdBQ0UsT0FBT3ZFLEtBQUt5RCxXQUFXdEIsTUFBSyxTQUFDMkIsR0FDM0IsT0FBUUEsRUFBYUssU0FBU0MsVywrQkFJbEMsV0FDTXBFLEtBQUt3RSxvQkFDUHhFLEtBQUt1RCxjQUFja0IsYUFBYSxZQUFZLEdBQzVDekUsS0FBS3VELGNBQWN0QixVQUFVQyxJQUFJbEMsS0FBS3FELGtCQUFrQnFCLHVCQUV4RDFFLEtBQUt1RCxjQUFjb0IsZ0JBQWdCLFlBQ25DM0UsS0FBS3VELGNBQWN0QixVQUFVWixPQUFPckIsS0FBS3FELGtCQUFrQnFCLHdCLCtCQUkvRCxXQUFvQixXQUNsQjFFLEtBQUs0RSxvQkFDTDVFLEtBQUt5RCxXQUFXVCxTQUFRLFNBQUNjLEdBQ3ZCQSxFQUFheEMsaUJBQWlCLFNBQVMsV0FDckMsRUFBS3VELFNBQVNmLEdBQ2QsRUFBS2MsNEIsOEJBS1gsV0FDRTVFLEtBQUs4RSxzQixrQ0FHUCxXQUF1QixXQUNyQjlFLEtBQUt5RCxXQUFXVCxTQUFRLFNBQUNjLEdBQ3ZCLEVBQUtPLGdCQUFnQlAsVyxzRUE5RE5aLEcsMEtDQUE2QixFQUFBQSxXQUNuQixXQUFZQyxHQUFlLEksSUFBQSxRLDRGQUFBLFMsRUFjVCxTQUFDQyxHQUNELFdBQVpBLEVBQUlDLEtBQ04sRUFBS0MsZSxFQWhCa0IsMEIsc0JBQUEsSyx1REFBQSxLLEtBQ3pCbkYsS0FBS29GLE9BQVNwRSxTQUFTQyxjQUFjK0QsRyw4Q0FHdkMsV0FDRWhGLEtBQUtvRixPQUFPbkQsVUFBVUMsSUFBSSxnQkFDMUJsQixTQUFTTSxpQkFBaUIsVUFBV3RCLEtBQUtxRixtQix3QkFHNUMsV0FDRXJGLEtBQUtvRixPQUFPbkQsVUFBVVosT0FBTyxnQkFDN0JMLFNBQVNzRSxvQkFBb0IsVUFBV3RGLEtBQUtxRixtQiwrQkFTL0MsV0FBb0IsV0FDbEJyRixLQUFLb0YsT0FBTzlELGlCQUFpQixTQUFTLFNBQUMyRCxJQUNqQ0EsRUFBSU0sT0FBT3RELFVBQVV1RCxTQUFTLGlCQUFtQlAsRUFBSU0sT0FBT3RELFVBQVV1RCxTQUFTLGtCQUNqRixFQUFLTCxxQixzRUF4QlFKLEcsK3RDQ0VBVSxFQUFBQSxTQUFBQSxJLDZyQkFDbkIsV0FBWVQsRUFBZVUsR0FBb0IsYSw0RkFBQSxVQUM3QyxjQUFNVixJQUNEVyxvQkFBc0JELEVBQzNCLEVBQUtFLE1BQVEsRUFBS1IsT0FBT25FLGNBQWMsZ0JBQ3ZDLEVBQUt3QyxXQUFhLEVBQUttQyxNQUFNaEMsaUJBQWlCLGlCQUM5QyxFQUFLTCxjQUFpQixFQUFLNkIsT0FBT25FLGNBQWMsZ0JBTEgsRSw0Q0FTL0MsV0FDRSxJQUFNNEUsRUFBYSxHQUduQixPQUZBN0YsS0FBS3lELFdBQVdULFNBQVEsU0FBQThDLEdBQUssT0FBSUQsRUFBV0MsRUFBTTVGLE1BQVE0RixFQUFNQyxTQUV6REYsSSwrQkFHVCxXQUFvQixXQUNsQixzREFFQTdGLEtBQUs0RixNQUFNdEUsaUJBQWlCLFVBQVUsU0FBQzJELEdBQ3JDQSxFQUFJZSxpQkFDSixFQUFLekMsY0FBYzNCLFlBQWMsZ0JBQ2pDLEVBQUsrRCxvQkFBb0IsRUFBS00sd0IsNEJBS2xDLFdBQ0VqRyxLQUFLdUQsY0FBYzNCLFlBQWMsYyx3QkFHbkMsV0FDRTVCLEtBQUs0RixNQUFNTSxRQUNYLG9ELHNFQWxDaUJULENBQXNCVixHLDRqQ0NBdEJvQixFQUFBQSxTQUFBQSxJLDJyQkFDbkIsV0FBWW5CLEdBQWUsUSxNQUFBLE8sNEZBQUEsUyxFQU1WLFNBQUM1RSxFQUFLRixHQUVyQixFQUFLa0csbUJBQW1CdkUsSUFBTXpCLEVBQzlCLEVBQUtnRyxtQkFBbUJ0RSxJQUFNNUIsRUFDOUIsRUFBS21HLGVBQWV6RSxZQUFjMUIsRUFFbEMsbUQsRUFaeUIsb0IsRUFBQSxFQUN6QixjQUFNOEUsSyxzRkFDTixFQUFLb0IsbUJBQXFCLEVBQUtoQixPQUFPbkUsY0FBYyxpQkFDcEQsRUFBS29GLGVBQWlCLEVBQUtqQixPQUFPbkUsY0FBYyxvQkFIdkIsRSxnRUFEUmtGLENBQXVCcEIsRywrdENDQXZCdUIsRUFBQUEsU0FBQUEsSSw2ckJBQ25CLFdBQVl0QixHQUFlLGEsNEZBQUEsVUFDekIsY0FBTUEsSUFDRFksTUFBUSxFQUFLUixPQUFPbkUsY0FBYyx1QkFGZCxFLHlDQUszQixTQUFhc0YsR0FDWHZHLEtBQUt3RyxlQUFpQkQsSSwrQkFHeEIsV0FBb0IsV0FDbEIsc0RBQ0F2RyxLQUFLNEYsTUFBTXRFLGlCQUFpQixVQUFVLFNBQUMyRCxHQUNyQ0EsRUFBSWUsaUJBQ0osRUFBS1EseUIsc0VBZFVGLENBQXdCdkIsRywwS0NGeEIwQixFQUFBQSxXQUNuQixXQUFZQyxFQUFjQyxFQUFhQyxJLDRGQUFnQixTQUNyRDVHLEtBQUtDLE1BQVFlLFNBQVNDLGNBQWN5RixHQUNwQzFHLEtBQUs2RyxLQUFPN0YsU0FBU0MsY0FBYzBGLEdBQ25DM0csS0FBSzhHLFFBQVU5RixTQUFTQyxjQUFjMkYsRyxnREFHeEMsV0FNRSxNQUxpQixDQUNmMUcsS0FBTUYsS0FBS0MsTUFBTTJCLFlBQ2pCbUYsSUFBSy9HLEtBQUs2RyxLQUFLakYsZSx5QkFNbkIsU0FBWW9GLEdBQ1ZoSCxLQUFLQyxNQUFNMkIsWUFBY29GLEVBQUs5RyxLQUM5QkYsS0FBSzZHLEtBQUtqRixZQUFjb0YsRUFBS0MsTUFDN0JqSCxLQUFLOEcsUUFBUWpGLElBQU1tRixFQUFLRSxPQUN4QmxILEtBQUtTLElBQU11RyxFQUFLdkcsUyxzRUFwQkNnRyxHLDBLQytCakI5RyxFQy9CaUJ3SCxFQUFBQSxXQUNuQixXQUFZQyxJLDRGQUFTLFNBQ25CcEgsS0FBS3FILFNBQVdELEVBQVFFLFFBQ3hCdEgsS0FBS3VILFNBQVdILEVBQVFJLFEsbURBRzFCLFNBQWVDLEdBQ2IsT0FBSUEsRUFBSUMsR0FDQ0QsRUFBSUUsT0FFUkMsUUFBUUMsT0FBUixrQkFBMEJKLEVBQUlLLFcseUJBR3JDLFdBQ0UsT0FBT0MsTUFBTSxHQUFELE9BQUkvSCxLQUFLcUgsU0FBVCxZQUE2QixDQUN2Q1csT0FBUSxNQUNSUixRQUFTeEgsS0FBS3VILFdBRWZVLEtBQUtqSSxLQUFLa0ksa0IsNkJBR2IsV0FDRSxPQUFPSCxNQUFNLEdBQUQsT0FBSS9ILEtBQUtxSCxTQUFULFVBQTJCLENBQ3JDVyxPQUFRLE1BQ1JSLFFBQVN4SCxLQUFLdUgsV0FFZlUsS0FBS2pJLEtBQUtrSSxrQiwwQkFHYixTQUFheEksR0FDWCxPQUFPcUksTUFBTSxHQUFELE9BQUkvSCxLQUFLcUgsU0FBVCxZQUE2QixDQUN2Q1csT0FBUSxRQUNSUixRQUFTeEgsS0FBS3VILFNBQ2RZLEtBQU1DLEtBQUtDLFVBQVUzSSxLQUV0QnVJLEtBQUtqSSxLQUFLa0ksa0IscUJBR2IsU0FBUXhJLEdBQ04sT0FBT3FJLE1BQU0sR0FBRCxPQUFJL0gsS0FBS3FILFNBQVQsVUFBMkIsQ0FDckNXLE9BQVEsT0FDUlIsUUFBU3hILEtBQUt1SCxTQUNkWSxLQUFNQyxLQUFLQyxVQUFVM0ksS0FFdEJ1SSxLQUFLakksS0FBS2tJLGtCLHdCQUdiLFNBQVdJLEdBQ1QsT0FBT1AsTUFBTSxHQUFELE9BQUkvSCxLQUFLcUgsU0FBVCxpQkFBMEJpQixHQUFVLENBQzlDTixPQUFRLFNBQ1JSLFFBQVN4SCxLQUFLdUgsV0FFZlUsS0FBS2pJLEtBQUtrSSxrQix5QkFHYixTQUFZSSxHQUNWLE9BQU9QLE1BQU0sR0FBRCxPQUFJL0gsS0FBS3FILFNBQVQsaUJBQTBCaUIsRUFBMUIsVUFBMEMsQ0FDcEROLE9BQVEsTUFDUlIsUUFBU3hILEtBQUt1SCxXQUVmVSxLQUFLakksS0FBS2tJLGtCLDRCQUdiLFNBQWVJLEdBQ2IsT0FBT1AsTUFBTSxHQUFELE9BQUkvSCxLQUFLcUgsU0FBVCxpQkFBMEJpQixFQUExQixVQUEwQyxDQUNwRE4sT0FBUSxTQUNSUixRQUFTeEgsS0FBS3VILFdBRWZVLEtBQUtqSSxLQUFLa0ksa0Isd0JBR2IsU0FBV3hJLEdBQ1QsT0FBT3FJLE1BQU0sR0FBRCxPQUFJL0gsS0FBS3FILFNBQVQsbUJBQW9DLENBQzlDVyxPQUFRLFFBQ1JSLFFBQVN4SCxLQUFLdUgsU0FDZFksS0FBTUMsS0FBS0MsVUFBVTNJLEtBRXRCdUksS0FBS2pJLEtBQUtrSSxxQixzRUE3RU1mLEdDQVJoRSxFQUFtQixDQUM5Qm9GLGFBQWMsZUFDZDFFLGNBQWUsZ0JBQ2ZMLHFCQUFzQixlQUN0QmtCLG9CQUFxQix1QkFDckJULGdCQUFpQiwwQkFDakJDLFdBQVksNkJBR0RzRSxFQUFVeEgsU0FBU0MsY0FBYyxrQkFDakN3SCxFQUFTekgsU0FBU0MsY0FBYyxpQkFDaEN5SCxFQUFnQjFILFNBQVNDLGNBQWMseUJBRXZDMEgsRUFBWTNILFNBQVNDLGNBQWMsMkJBQ25DMkgsRUFBVzVILFNBQVNDLGNBQWMsMkJBRWxDNEgsRUFBWTdILFNBQVNDLGNBQWMsZUFDbkM2SCxFQUFXOUgsU0FBU0MsY0FBYyxjQUNsQzhILEVBQWMvSCxTQUFTQyxjQUFjLHNCLDBHRmVsRCxJQUFNK0gsRUFBVyxJQUFJdkMsRUVWYyxrQkFDRCxpQkFDRyxvQkZXL0J3QyxFQUFvQixJQUFJL0YsRUFBY0MsRUFBa0IwRixHQUM5REksRUFBa0JDLG1CQUVsQixJQUFNQyxFQUFtQixJQUFJakcsRUFBY0MsRUFBa0IyRixHQUM3REssRUFBaUJELG1CQUVqQixJQUFNRSxFQUFzQixJQUFJbEcsRUFBY0MsRUFBa0I0RixHQUNoRUssRUFBb0JGLG1CQUVwQixJQUFNRyxFQUFpQixJQUFJbEQsRUV6Qk8sZUYwQmxDa0QsRUFBZUMsb0JBRWYsSUFBTUMsRUFBZ0IsSUFBSTlELEVFdEJNLGVGMkhoQyxTQUFzQi9GLEdBQ3BCOEosR0FBSUMsYUFBYS9KLEdBQ2R1SSxNQUFLLFNBQUF2SSxHQUNKZ0ssR0FBWWhLLEdBQ1o2SixFQUFjcEUsZ0JBRWZ3RSxPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUlGLE1BRWJHLFNBQVEsV0FDUFIsRUFBY1MsdUJBOUdwQlQsRUFBY0Qsb0JBRWQsSUFBTVcsRUFBZSxJQUFJeEUsRUV4Qk0sY0Y4SS9CLFNBQXFCL0YsR0FDbkI4SixHQUFJVSxRQUFReEssR0FDVHVJLE1BQUssU0FBQXZJLEdBQ0p5SyxHQUFRQyxRQUFRQyxHQUFhM0ssSUFDN0J1SyxFQUFhOUUsZ0JBRWR3RSxPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUlGLE1BRWJHLFNBQVEsV0FDUEUsRUFBYUQsdUJBL0huQkMsRUFBYVgsb0JBRWIsSUFBTWdCLEdBQWtCLElBQUk3RSxFRTFCTSxzQkYwQjRCLFNBQUMvRixJQWlDL0QsU0FBb0JBLEdBQ2xCOEosR0FBSWUsV0FBVzdLLEdBQ1p1SSxNQUFLLFNBQUN2SSxHQUNMZ0ssR0FBWWhLLEdBQ1o0SyxHQUFnQm5GLGdCQUVqQndFLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsTUFFYkcsU0FBUSxXQUNQTyxHQUFnQk4sb0JBM0NvRE8sQ0FBVzdLLE1BQ3JGNEssR0FBZ0JoQixvQkFFaEIsSUFBTWtCLEdBQWtCLElBQUlsRSxFRTVCQyxpQkY2QjdCa0UsR0FBZ0JsQixvQkFFaEIsSUFBTUUsR0FBTSxJQUFJckMsRUFBSSxDQUNsQkcsUUFBUyw4Q0FDVEUsUUFBUyxDQUNQaUQsY0FBZSx1Q0FDZixlQUFnQixzQkFLZE4sR0FBVSxJQUFJM0gsRUFBUSxDQUMxQkUsU0FBVSxTQUFDZ0ksR0FDVCxJQUFNQyxFQUFPTixHQUFhSyxHQUMxQlAsR0FBUUMsUUFBUU8sS0VsRFcsYUZnRi9CLFNBQVM5SyxHQUFnQk8sRUFBTUYsR0FDN0JtSixFQUFldUIsZUFBZXhLLEVBQU1GLEdBR3RDLFNBQVNILEdBQWlCNEssR0FDeEJILEdBQWdCSyxZQUNoQkwsR0FBZ0JNLGNBQWEsV0FDM0J0QixHQUFJdUIsV0FBV0osRUFBS2pLLElBQ2pCdUgsTUFBSyxXQUNKMEMsRUFBS0ssbUJBRU4vQyxNQUFLLFdBQ0p1QyxHQUFnQnJGLGdCQUVqQndFLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsU0FLcEIsU0FBUzlKLEdBQWdCNkssR0FDbkJBLEVBQUt2SSxVQUNQb0gsR0FBSXlCLGVBQWVOLEVBQUtqSyxJQUNyQnVILE1BQUssU0FBQTNGLEdBQWNxSSxFQUFLTyxTQUFTNUksRUFBU2hDLFVBQzFDcUosT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJRixNQUdoQkosR0FBSTJCLFlBQVlSLEVBQUtqSyxJQUNsQnVILE1BQUssU0FBQTNGLEdBQWNxSSxFQUFLTyxTQUFTNUksRUFBU2hDLFVBQzFDcUosT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJRixNQUdsQkMsUUFBUUMsSUFBSWEsR0FJZCxTQUFTTixHQUFhcEgsR0FFcEIsT0FEZ0IsSUFBSXhELEVBQUt3RCxFQUFNdEQsRUV4SEYscUJGd0gyQkUsR0FBaUJDLEdBQWlCQyxJQUMzRXFMLGVBR2pCLFNBQVMxQixHQUFZaEssR0FDbkJzSixFQUFTVSxZQUFZaEssR0F0RXZCa0ksUUFBUXlELElBQUksQ0FBQzdCLEdBQUk4QixjQUFlOUIsR0FBSStCLG9CQUNqQ3RELE1BQUssWUFBdUIsSSxJQUFBLEcsRUFBQSxFLDRDQUFBLEksZ3hCQUFyQnVELEVBQXFCLEtBQVhkLEVBQVcsS0FDM0IvSyxFQUFTNkwsRUFBUy9LLElBQ2xCdUksRUFBU1UsWUFBWThCLEdBRXJCckIsR0FBUXNCLFlBQVlmLE1BRXJCZixPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUlGLE1BbUdoQnBCLEVBQVFsSCxpQkFBaUIsU0FBUyxXQXBCbEMsSUFDUWdLLEVBQUFBLEVBQWN0QyxFQUFTc0MsY0FDN0IzQyxFQUFVNUMsTUFBUXVGLEVBQVlwTCxLQUM5QjBJLEVBQVM3QyxNQUFRdUYsRUFBWXZFLElBbUI3QndDLEVBQWNzQixZQUNkNUIsRUFBa0J5QywwQkFHcEJqRCxFQUFPbkgsaUJBQWlCLFNBQVMsV0FDL0IySSxFQUFhWSxZQUNiMUIsRUFBaUJ2RSxvQkFDakJ1RSxFQUFpQnVDLDBCQUduQmhELEVBQWNwSCxpQkFBaUIsU0FBUyxXQUN0Q2dKLEdBQWdCTyxZQUNoQnpCLEVBQW9CeEUsb0JBQ3BCd0UsRUFBb0JzQywyQiIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhEZWxldGUuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSwgdXNlcklkLCBjYXJkU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlTGlrZUNsaWNrLCBoYW5kbGVEZWxldGVDYXJkKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgIHRoaXMuX293bmVyID0gZGF0YS5vd25lci5faWQ7XHJcbiAgICB0aGlzLmlkID0gZGF0YS5faWQ7XHJcblxyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG5cclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQgPSBoYW5kbGVEZWxldGVDYXJkO1xyXG4gIH07XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcignLmVsZW1lbnQnKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUVsZW1lbnQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XHJcbiAgfTtcclxuXHJcbiAgX3NldEV2ZW50TGlzdG5lcnMoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faGVhcnRcIikuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sodGhpcykpO1xyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2RlbGV0ZVwiKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQodGhpcykpO1xyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2ltYWdlXCIpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX2xpbmssIHRoaXMuX25hbWUpKTtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0bmVycygpO1xyXG4gICAgdGhpcy5oYW5kbGVEZWxldGVCdXR0b24oKTtcclxuICAgIHRoaXMudXBkYXRlTGlrZUJ1dHRvbigpO1xyXG5cclxuICAgIGNvbnN0IGVsZW1lbnRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3RpdGxlJykudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgZWxlbWVudEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICBlbGVtZW50SW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcclxuXHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19oZWFydC1udW1iZXInKS50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcblxyXG4gIGNoZWNrQ2FyZE93bmVyKCkge1xyXG4gICAgaWYgKHRoaXMuX3VzZXJJZCA9PT0gdGhpcy5fb3duZXIpIHtcclxuICAgICAgcmV0dXJuICh0cnVlKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlRGVsZXRlQnV0dG9uKCkge1xyXG4gICAgaWYgKHRoaXMuY2hlY2tDYXJkT3duZXIoKSA9PT0gdHJ1ZSkge1xyXG4gICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19kZWxldGUnKS5jbGFzc0xpc3QucmVtb3ZlKCdlbGVtZW50X19kZWxldGVfaW5hY3RpdmUnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2RlbGV0ZScpLmNsYXNzTGlzdC5hZGQoJ2VsZW1lbnRfX2RlbGV0ZV9pbmFjdGl2ZScpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaXNMaWtlZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9saWtlcy5zb21lKG93bmVyID0+IG93bmVyLl9pZCA9PT0gdGhpcy5fdXNlcklkKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUxpa2VCdXR0b24oKSB7XHJcbiAgICBpZiAodGhpcy5pc0xpa2VkKCkpIHtcclxuICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faGVhcnQnKS5jbGFzc0xpc3QuYWRkKCdlbGVtZW50X19oZWFydF9hY3RpdmUnKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faGVhcnQnKS5jbGFzc0xpc3QucmVtb3ZlKCdlbGVtZW50X19oZWFydF9hY3RpdmUnKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3VwZGF0ZUxpa2VOdW1iZXIoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19oZWFydC1udW1iZXInKS50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2hlYXJ0JykuY2xhc3NMaXN0LnRvZ2dsZSgnZWxlbWVudF9faGVhcnRfYWN0aXZlJylcclxuICB9XHJcblxyXG4gIHNldExpa2VzKGRhdGFDYXJkKSB7XHJcbiAgICB0aGlzLl9saWtlcyA9IGRhdGFDYXJkO1xyXG4gICAgdGhpcy5fdXBkYXRlTGlrZU51bWJlcigpO1xyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHtyZW5kZXJlcn0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG5cclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7IFxyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHZhbGlkYXRpb25Db25maWcsIGVsZW1lbnRGb3JtKSB7XHJcbiAgICB0aGlzLl92YWxpZGF0aW9uQ29uZmlnID0gdmFsaWRhdGlvbkNvbmZpZztcclxuICAgIHRoaXMuX2VsZW1lbnRGb3JtID0gZWxlbWVudEZvcm07XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9lbGVtZW50Rm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9lbGVtZW50Rm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5wdXRTZWxlY3RvcikpO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9lbGVtZW50Rm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZWxlbWVudEZvcm0ucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xyXG4gIH07XHJcblxyXG4gIF9pc1ZhbGlkKGlucHV0RWxlbWVudCkge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICB0b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXIoKSB7XHJcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9pc1ZhbGlkKGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVyKCk7XHJcbiAgfTtcclxuXHJcbiAgcmVzZXRFcnJvclZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudClcclxuICAgIH0pO1xyXG4gIH1cclxufTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgb3BlblBvcHVwKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VQb3B1cCgpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcclxuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX29wZW5lZCcpIHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UnKSkge1xyXG4gICAgICAgIHRoaXMuY2xvc2VQb3B1cCgpO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBzdWJtaXRGb3JtRnVuY3Rpb24pIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fc3VibWl0Rm9ybUZ1bmN0aW9uID0gc3VibWl0Rm9ybUZ1bmN0aW9uO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0Jyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSAgdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19zYXZlJyk7XHJcbiAgICBcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGZvcm1WYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IGZvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZSk7XHJcbiAgICBcclxuICAgIHJldHVybiBmb3JtVmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiXHJcbiAgICAgIHRoaXMuX3N1Ym1pdEZvcm1GdW5jdGlvbih0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgLy90aGlzLmNsb3NlUG9wdXAoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYmFja1RleHRCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC40YLRjFwiXHJcbiAgfVxyXG4gIFxyXG4gIGNsb3NlUG9wdXAoKSB7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgICBzdXBlci5jbG9zZVBvcHVwKCk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2ltYWdlUG9wdXBQaWN0dXJlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpO1xyXG4gICAgdGhpcy5fc3VidGl0bGVQb3B1cCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc3VidGl0bGUnKTtcclxuICB9XHJcbiAgXHJcbiAgb3BlblBvcHVwSW1hZ2UgPSAobGluayxuYW1lKSA9PiB7XHJcbiAgICBcclxuICAgIHRoaXMuX2ltYWdlUG9wdXBQaWN0dXJlLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9pbWFnZVBvcHVwUGljdHVyZS5hbHQgPSBuYW1lO1xyXG4gICAgdGhpcy5fc3VidGl0bGVQb3B1cC50ZXh0Q29udGVudCA9IG5hbWU7XHJcblxyXG4gICAgc3VwZXIub3BlblBvcHVwKCk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRGVsZXRlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybV9kZWxldGUnKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZVN1Ym1pdChoYW5kbGVyKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRIYW5kbGVyID0gaGFuZGxlclxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRIYW5kbGVyKClcclxuICAgIH0pO1xyXG4gIH07XHJcbn07IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fam9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgY29uc3QgdXNlckluZm8gPSB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGpvYjogdGhpcy5fam9iLnRleHRDb250ZW50XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiB1c2VySW5mbztcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKGluZm8pIHtcclxuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBpbmZvLm5hbWU7XHJcbiAgICB0aGlzLl9qb2IudGV4dENvbnRlbnQgPSBpbmZvLmFib3V0O1xyXG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IGluZm8uYXZhdGFyO1xyXG4gICAgdGhpcy5faWQgPSBpbmZvLl9pZDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XHJcbmltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aERlbGV0ZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aERlbGV0ZS5qcydcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xyXG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcclxuaW1wb3J0IHtcclxuICBlbGVtZW50RGVsZXRlLFxyXG4gIHZhbGlkYXRpb25Db25maWcsXHJcbiAgcG9wdXBFZGl0LFxyXG4gIHBvcHVwQWRkLFxyXG4gIHBvcHVwQXZhdGFyLFxyXG4gIG5hbWVQb3B1cCxcclxuICBqb2JQb3B1cCxcclxuICBlZGl0QnRuLFxyXG4gIGFkZEJ0bixcclxuICBlZGl0QnRuQXZhdGFyLFxyXG4gIGltYWdlUG9wdXBTZWxlY3RvcixcclxuICBjYXJkTmV3U2VsZWN0b3IsXHJcbiAgc2VjdGlvblNlbGVjdG9yLFxyXG4gIG5hbWVQcm9maWxlU2VsZWN0b3IsXHJcbiAgam9iUHJvZmlsZVNlbGVjdG9yLFxyXG4gIGF2YXRhclByb2ZpbGVTZWxlY3RvcixcclxuICBlZGl0Rm9ybVNlbGVjdG9yLFxyXG4gIGFkZEZvcm1TZWxlY3RvcixcclxuICBlZGl0QXZhdGFyU2VsZWN0b3JcclxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5cclxubGV0IHVzZXJJZFxyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8obmFtZVByb2ZpbGVTZWxlY3Rvciwgam9iUHJvZmlsZVNlbGVjdG9yLCBhdmF0YXJQcm9maWxlU2VsZWN0b3IpO1xyXG5cclxuLy/QstCw0LvQuNC00LDRhtC40Y8g0YTQvtGA0LxcclxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBwb3B1cEVkaXQpO1xyXG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBhZGRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgcG9wdXBBZGQpO1xyXG5hZGRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IGF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBwb3B1cEF2YXRhcik7XHJcbmF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgaW1hZ2VXaXRoUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoaW1hZ2VQb3B1cFNlbGVjdG9yKTtcclxuaW1hZ2VXaXRoUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IHBvcHVwRWRpdEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShlZGl0Rm9ybVNlbGVjdG9yLCBlZGl0VXNlckluZm8pO1xyXG5wb3B1cEVkaXRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBwb3B1cEFkZEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShhZGRGb3JtU2VsZWN0b3IsIHNhdmVOZXdDYXJkKTtcclxucG9wdXBBZGRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBwb3B1cEVkaXRBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShlZGl0QXZhdGFyU2VsZWN0b3IsIChkYXRhKSA9PiB7IGVkaXRBdmF0YXIoZGF0YSkgfSk7XHJcbnBvcHVwRWRpdEF2YXRhci5zZXRFdmVudExpc3RlbmVycygpXHJcblxyXG5jb25zdCBkZWxldGVXaXRoUG9wdXAgPSBuZXcgUG9wdXBXaXRoRGVsZXRlKGVsZW1lbnREZWxldGUpO1xyXG5kZWxldGVXaXRoUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0MzYvJyxcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiAnOWJiMzMzM2UtOGRjOC00NGJmLWEyMTktMjlmNTAzMTY3Y2FhJyxcclxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICB9XHJcbn0pO1xyXG5cclxuLy8g0YHQvtC30LTQsNC90LjQtSDQvdC+0LLQvtCz0L4g0Y3Qu9C10LzQtdC90YLQsCDQutCw0YDRgtC+0YfQutC4LlxyXG5jb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24oe1xyXG4gIHJlbmRlcmVyOiAoY2FyZHMpID0+IHtcclxuICAgIGNvbnN0IGNhcmQgPSBjcmVhdE5ld0NhcmQoY2FyZHMpO1xyXG4gICAgc2VjdGlvbi5hZGRJdGVtKGNhcmQpO1xyXG4gIH0sXHJcbn0sIHNlY3Rpb25TZWxlY3Rvcik7XHJcblxyXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRJbml0aWFsQ2FyZHMoKV0pXHJcbiAgLnRoZW4oKFt1c2VyRGF0YSwgY2FyZHNdKSA9PiB7XHJcbiAgICB1c2VySWQgPSB1c2VyRGF0YS5faWQ7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YSk7XHJcblxyXG4gICAgc2VjdGlvbi5yZW5kZXJJdGVtcyhjYXJkcyk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZXJyKTtcclxuICB9KTtcclxuXHJcbmZ1bmN0aW9uIGVkaXRBdmF0YXIoZGF0YSkge1xyXG4gIGFwaS5lZGl0QXZhdGFyKGRhdGEpXHJcbiAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICBzZXRVc2VySW5mbyhkYXRhKTtcclxuICAgICAgcG9wdXBFZGl0QXZhdGFyLmNsb3NlUG9wdXAoKVxyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBwb3B1cEVkaXRBdmF0YXIuYmFja1RleHRCdXR0b24oKTtcclxuICAgIH0pXHJcbn07XHJcblxyXG4vLyDQvtGC0LrRgNGL0YLRjCDQutCw0YDRgtC40L3QutGDXHJcbmZ1bmN0aW9uIGhhbmRsZUNhcmRDbGljayhsaW5rLCBuYW1lKSB7XHJcbiAgaW1hZ2VXaXRoUG9wdXAub3BlblBvcHVwSW1hZ2UobGluaywgbmFtZSk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVDYXJkKGNhcmQpIHtcclxuICBkZWxldGVXaXRoUG9wdXAub3BlblBvcHVwKCk7XHJcbiAgZGVsZXRlV2l0aFBvcHVwLmhhbmRsZVN1Ym1pdCgoKSA9PiB7XHJcbiAgICBhcGkuZGVsZXRlQ2FyZChjYXJkLmlkKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgY2FyZC5kZWxldGVFbGVtZW50KCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBkZWxldGVXaXRoUG9wdXAuY2xvc2VQb3B1cCgpXHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSlcclxuICB9KVxyXG59O1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlTGlrZUNsaWNrKGNhcmQpIHtcclxuICBpZiAoY2FyZC5pc0xpa2VkKCkpIHtcclxuICAgIGFwaS5kZWxldGVDYXJkTGlrZShjYXJkLmlkKVxyXG4gICAgICAudGhlbihkYXRhQ2FyZCA9PiB7IGNhcmQuc2V0TGlrZXMoZGF0YUNhcmQubGlrZXMpIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGFwaS5wdXRDYXJkTGlrZShjYXJkLmlkKVxyXG4gICAgICAudGhlbihkYXRhQ2FyZCA9PiB7IGNhcmQuc2V0TGlrZXMoZGF0YUNhcmQubGlrZXMpIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG4gIGNvbnNvbGUubG9nKGNhcmQpXHJcbn07XHJcblxyXG4vLyDRgdC+0LfQtNCw0YLRjCDRjdC60LfQtdC80L/Qu9GP0YAg0LrQsNGA0YLQvtGH0LrQuFxyXG5mdW5jdGlvbiBjcmVhdE5ld0NhcmQoaXRlbSkge1xyXG4gIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZChpdGVtLCB1c2VySWQsIGNhcmROZXdTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVMaWtlQ2xpY2ssIGhhbmRsZURlbGV0ZUNhcmQpO1xyXG4gIHJldHVybiBuZXdDYXJkLmdlbmVyYXRlQ2FyZCgpXHJcbn07XHJcblxyXG5mdW5jdGlvbiBzZXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBlZGl0VXNlckluZm8oZGF0YSkge1xyXG4gIGFwaS5lZGl0VXNlckluZm8oZGF0YSlcclxuICAgIC50aGVuKGRhdGEgPT4ge1xyXG4gICAgICBzZXRVc2VySW5mbyhkYXRhKTtcclxuICAgICAgcG9wdXBFZGl0Rm9ybS5jbG9zZVBvcHVwKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHBvcHVwRWRpdEZvcm0uYmFja1RleHRCdXR0b24oKTtcclxuICAgIH0pXHJcbn07XHJcblxyXG5mdW5jdGlvbiBzZXRJbnB1dFZhbHVlKCkge1xyXG4gIGNvbnN0IGdldFVzZXJJbmZvID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICBuYW1lUG9wdXAudmFsdWUgPSBnZXRVc2VySW5mby5uYW1lO1xyXG4gIGpvYlBvcHVwLnZhbHVlID0gZ2V0VXNlckluZm8uam9iO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gc2F2ZU5ld0NhcmQoZGF0YSkge1xyXG4gIGFwaS5hZGRDYXJkKGRhdGEpXHJcbiAgICAudGhlbihkYXRhID0+IHtcclxuICAgICAgc2VjdGlvbi5hZGRJdGVtKGNyZWF0TmV3Q2FyZChkYXRhKSlcclxuICAgICAgcG9wdXBBZGRGb3JtLmNsb3NlUG9wdXAoKVxyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBwb3B1cEFkZEZvcm0uYmFja1RleHRCdXR0b24oKTtcclxuICAgIH0pXHJcbn07XHJcblxyXG5lZGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIHNldElucHV0VmFsdWUoKTtcclxuICBwb3B1cEVkaXRGb3JtLm9wZW5Qb3B1cCgpO1xyXG4gIGVkaXRGb3JtVmFsaWRhdG9yLnJlc2V0RXJyb3JWYWxpZGF0aW9uKCk7XHJcbn0pO1xyXG5cclxuYWRkQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIHBvcHVwQWRkRm9ybS5vcGVuUG9wdXAoKTtcclxuICBhZGRGb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgYWRkRm9ybVZhbGlkYXRvci5yZXNldEVycm9yVmFsaWRhdGlvbigpO1xyXG59KTtcclxuXHJcbmVkaXRCdG5BdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgcG9wdXBFZGl0QXZhdGFyLm9wZW5Qb3B1cCgpO1xyXG4gIGF2YXRhckZvcm1WYWxpZGF0b3IudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICBhdmF0YXJGb3JtVmFsaWRhdG9yLnJlc2V0RXJyb3JWYWxpZGF0aW9uKCk7XHJcbn0pOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tSZXNwb25zZShyZXMpIHtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICB9XHJcbiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCl7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH11c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzICAgXHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7ICAgXHJcbiAgfTtcclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9Y2FyZHMvYCwge1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7ICAgXHJcbiAgfTtcclxuXHJcbiAgZWRpdFVzZXJJbmZvKGRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfXVzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7ICAgXHJcbiAgfTtcclxuXHJcbiAgYWRkQ2FyZChkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkcy9gLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpOyAgIFxyXG4gIH07XHJcblxyXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pXHJcbiAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTsgICBcclxuICB9XHJcblxyXG4gIHB1dENhcmRMaWtlKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9Y2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7ICAgXHJcbiAgfVxyXG5cclxuICBkZWxldGVDYXJkTGlrZShjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfWNhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpOyAgIFxyXG4gIH1cclxuXHJcbiAgZWRpdEF2YXRhcihkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH11c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpOyAgIFxyXG4gIH1cclxufTsiLCJleHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxyXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fc2F2ZScsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19zYXZlX2luYWN0aXZlJyxcclxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXHJcbiAgZXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dC1lcnJvcl9hY3RpdmUnXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZWRpdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0Jyk7XHJcbmV4cG9ydCBjb25zdCBhZGRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkJyk7XHJcbmV4cG9ydCBjb25zdCBlZGl0QnRuQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhci1lZGl0Jyk7XHJcblxyXG5leHBvcnQgY29uc3QgbmFtZVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF90eXBlX25hbWUnKTtcclxuZXhwb3J0IGNvbnN0IGpvYlBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF90eXBlX2luZm8nKTtcclxuXHJcbmV4cG9ydCBjb25zdCBwb3B1cEVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfZWRpdCcpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBBZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfYWRkJyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9lZGl0LWF2YXRhcicpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGltYWdlUG9wdXBTZWxlY3RvciA9ICcucG9wdXBfb3Blbic7XHJcbmV4cG9ydCBjb25zdCBjYXJkTmV3U2VsZWN0b3IgPSAnLmVsZW1lbnRfX3RlbXBsYXRlJztcclxuZXhwb3J0IGNvbnN0IHNlY3Rpb25TZWxlY3RvciA9ICcuZWxlbWVudHMnO1xyXG5leHBvcnQgY29uc3QgbmFtZVByb2ZpbGVTZWxlY3RvciA9ICcucHJvZmlsZV9fdGl0bGUnO1xyXG5leHBvcnQgY29uc3Qgam9iUHJvZmlsZVNlbGVjdG9yID0gJy5wcm9maWxlX190ZXh0JztcclxuZXhwb3J0IGNvbnN0IGF2YXRhclByb2ZpbGVTZWxlY3RvciA9ICcucHJvZmlsZV9fYXZhdGFyJztcclxuZXhwb3J0IGNvbnN0IGVkaXRGb3JtU2VsZWN0b3IgPSAnLnBvcHVwX2VkaXQnO1xyXG5leHBvcnQgY29uc3QgYWRkRm9ybVNlbGVjdG9yID0gJy5wb3B1cF9hZGQnO1xyXG5leHBvcnQgY29uc3QgZWRpdEF2YXRhclNlbGVjdG9yID0gJy5wb3B1cF9lZGl0LWF2YXRhcic7XHJcbmV4cG9ydCBjb25zdCBlbGVtZW50RGVsZXRlID0gJy5wb3B1cF9kZWxldGUnOyJdLCJuYW1lcyI6WyJDYXJkIiwiZGF0YSIsInVzZXJJZCIsImNhcmRTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZUxpa2VDbGljayIsImhhbmRsZURlbGV0ZUNhcmQiLCJ0aGlzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2xpa2VzIiwibGlrZXMiLCJfb3duZXIiLCJvd25lciIsIl9pZCIsImlkIiwiX3VzZXJJZCIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9oYW5kbGVEZWxldGVDYXJkIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwicmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9nZXRUZW1wbGF0ZSIsIl9zZXRFdmVudExpc3RuZXJzIiwiaGFuZGxlRGVsZXRlQnV0dG9uIiwidXBkYXRlTGlrZUJ1dHRvbiIsImVsZW1lbnRJbWFnZSIsInRleHRDb250ZW50Iiwic3JjIiwiYWx0IiwibGVuZ3RoIiwiY2hlY2tDYXJkT3duZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJzb21lIiwiaXNMaWtlZCIsInRvZ2dsZSIsImRhdGFDYXJkIiwiX3VwZGF0ZUxpa2VOdW1iZXIiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJlbGVtZW50IiwicHJlcGVuZCIsIml0ZW1zIiwiZm9yRWFjaCIsIml0ZW0iLCJGb3JtVmFsaWRhdG9yIiwidmFsaWRhdGlvbkNvbmZpZyIsImVsZW1lbnRGb3JtIiwiX3ZhbGlkYXRpb25Db25maWciLCJfZWxlbWVudEZvcm0iLCJfc3VibWl0QnV0dG9uIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hhc0ludmFsaWRJbnB1dCIsInNldEF0dHJpYnV0ZSIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJyZW1vdmVBdHRyaWJ1dGUiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsIl9pc1ZhbGlkIiwiX3NldEV2ZW50TGlzdGVuZXIiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJldnQiLCJrZXkiLCJjbG9zZVBvcHVwIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsInN1Ym1pdEZvcm1GdW5jdGlvbiIsIl9zdWJtaXRGb3JtRnVuY3Rpb24iLCJfZm9ybSIsImZvcm1WYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlBvcHVwV2l0aEltYWdlIiwiX2ltYWdlUG9wdXBQaWN0dXJlIiwiX3N1YnRpdGxlUG9wdXAiLCJQb3B1cFdpdGhEZWxldGUiLCJoYW5kbGVyIiwiX3N1Ym1pdEhhbmRsZXIiLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImpvYlNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfam9iIiwiX2F2YXRhciIsImpvYiIsImluZm8iLCJhYm91dCIsImF2YXRhciIsIkFwaSIsIm9wdGlvbnMiLCJfYmFzZVVybCIsImJhc2VVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJtZXRob2QiLCJ0aGVuIiwiX2NoZWNrUmVzcG9uc2UiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNhcmRJZCIsImZvcm1TZWxlY3RvciIsImVkaXRCdG4iLCJhZGRCdG4iLCJlZGl0QnRuQXZhdGFyIiwibmFtZVBvcHVwIiwiam9iUG9wdXAiLCJwb3B1cEVkaXQiLCJwb3B1cEFkZCIsInBvcHVwQXZhdGFyIiwidXNlckluZm8iLCJlZGl0Rm9ybVZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iLCJhZGRGb3JtVmFsaWRhdG9yIiwiYXZhdGFyRm9ybVZhbGlkYXRvciIsImltYWdlV2l0aFBvcHVwIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJwb3B1cEVkaXRGb3JtIiwiYXBpIiwiZWRpdFVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJmaW5hbGx5IiwiYmFja1RleHRCdXR0b24iLCJwb3B1cEFkZEZvcm0iLCJhZGRDYXJkIiwic2VjdGlvbiIsImFkZEl0ZW0iLCJjcmVhdE5ld0NhcmQiLCJwb3B1cEVkaXRBdmF0YXIiLCJlZGl0QXZhdGFyIiwiZGVsZXRlV2l0aFBvcHVwIiwiYXV0aG9yaXphdGlvbiIsImNhcmRzIiwiY2FyZCIsIm9wZW5Qb3B1cEltYWdlIiwib3BlblBvcHVwIiwiaGFuZGxlU3VibWl0IiwiZGVsZXRlQ2FyZCIsImRlbGV0ZUVsZW1lbnQiLCJkZWxldGVDYXJkTGlrZSIsInNldExpa2VzIiwicHV0Q2FyZExpa2UiLCJnZW5lcmF0ZUNhcmQiLCJhbGwiLCJnZXRVc2VySW5mbyIsImdldEluaXRpYWxDYXJkcyIsInVzZXJEYXRhIiwicmVuZGVySXRlbXMiLCJyZXNldEVycm9yVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=