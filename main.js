(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r,o,i,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e.name,this._link=e.link,this._likes=e.likes,this._owner=e.owner._id,this.id=e._id,this._userId=n,this._cardSelector=r,this._handleCardClick=o,this._handleLikeClick=i,this._handleDeleteCard=u}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"deleteElement",value:function(){this._element.remove(),this._element=null}},{key:"_setEventListners",value:function(){var e=this;this._elementLike.addEventListener("click",(function(){return e._handleLikeClick(e)})),this._elementDelete.addEventListener("click",(function(){return e._handleDeleteCard(e)})),this._elementImage.addEventListener("click",(function(){return e._handleCardClick(e._link,e._name)}))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._elementImage=this._element.querySelector(".element__image"),this._elementLike=this._element.querySelector(".element__heart"),this._elementDelete=this._element.querySelector(".element__delete"),this._elementNumberLike=this._element.querySelector(".element__heart-number"),this._element.querySelector(".element__title").textContent=this._name,this._elementImage.src=this._link,this._elementImage.alt=this._name,this._elementNumberLike.textContent=this._likes.length,this._setEventListners(),this.handleDeleteButton(),this.updateLikeButton(),this._element}},{key:"checkCardOwner",value:function(){if(this._userId===this._owner)return!0}},{key:"handleDeleteButton",value:function(){!0===this.checkCardOwner()?this._elementDelete.classList.remove("element__delete_inactive"):this._elementDelete.classList.add("element__delete_inactive")}},{key:"isLiked",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._userId}))}},{key:"updateLikeButton",value:function(){this.isLiked()?this._elementLike.classList.add("element__heart_active"):this._elementLike.classList.remove("element__heart_active")}},{key:"_updateLikeNumber",value:function(){this._elementNumberLike.textContent=this._likes.length,this._elementLike.classList.toggle("element__heart_active")}},{key:"setLikes",value:function(e){this._likes=e,this._updateLikeNumber()}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,r;return t=e,(r=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._validationConfig=t,this._elementForm=n,this._submitButton=this._elementForm.querySelector(this._validationConfig.submitButtonSelector),this._inputList=Array.from(this._elementForm.querySelectorAll(this._validationConfig.inputSelector))}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t){var n=this._elementForm.querySelector(".".concat(e.id,"-error"));e.classList.add(this._validationConfig.inputErrorClass),n.textContent=t,n.classList.add(this._validationConfig.errorClass)}},{key:"_hideInputError",value:function(e){var t=this._elementForm.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._validationConfig.inputErrorClass),t.classList.remove(this._validationConfig.errorClass),t.textContent=""}},{key:"_isValid",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._submitButton.setAttribute("disabled",!0),this._submitButton.classList.add(this._validationConfig.inactiveButtonClass)):(this._submitButton.removeAttribute("disabled"),this._submitButton.classList.remove(this._validationConfig.inactiveButtonClass))}},{key:"_setEventListener",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._isValid(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListener()}},{key:"resetErrorValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){"Escape"===e.key&&o.closePopup()},(n="_handleEscClose")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popup=document.querySelector(t)}var t,n;return t=e,(n=[{key:"openPopup",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"closePopup",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup_opened")||t.target.classList.contains("popup__close"))&&e.closePopup()}))}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=f(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},l.apply(this,arguments)}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(o){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._submitFormFunction=t,n._form=n._popup.querySelector(".popup__form"),n._inputList=n._form.querySelectorAll(".popup__input"),n}return t=u,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){return e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;l(d(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submitFormFunction(e._getInputValues())}))}},{key:"closePopup",value:function(){this._form.reset(),l(d(u.prototype),"closePopup",this).call(this)}},{key:"renderLoading",value:function(e,t){this._submitButton=this._popup.querySelector(".popup__save"),this._submitButton.textContent=e?"Сохранение...":t}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(a);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function m(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=k(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},g.apply(this,arguments)}function k(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(n);if(r){var o=w(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return m(this,e)});function i(e){var t,n,r,u,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a=function(e,r){n._imagePopupPicture.src=e,n._imagePopupPicture.alt=r,n._subtitlePopup.textContent=r,g((t=b(n),w(i.prototype)),"openPopup",t).call(t)},(u="openPopupImage")in(r=b(n=o.call(this,e)))?Object.defineProperty(r,u,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[u]=a,n._imagePopupPicture=n._popup.querySelector(".popup__image"),n._subtitlePopup=n._popup.querySelector(".popup__subtitle"),n}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(a);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=S(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},O.apply(this,arguments)}function S(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}function C(e,t){return C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},C(e,t)}function j(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=I(r);if(o){var n=I(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return j(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._form=t._popup.querySelector(".popup__form_delete"),t}return t=u,(n=[{key:"handleSubmit",value:function(e){this._submitHandler=e}},{key:"setEventListeners",value:function(){var e=this;O(I(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submitHandler()}))}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(a);function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(t),this._job=document.querySelector(n),this._avatar=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,job:this._job.textContent}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._job.textContent=e.about,this._avatar.src=e.avatar,this._id=e._id}}])&&q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var U,x=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=t.baseUrl,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"users/me"),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"cards/"),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"editUserInfo",value:function(e){return fetch("".concat(this._baseUrl,"users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._checkResponse)}},{key:"addCard",value:function(e){return fetch("".concat(this._baseUrl,"cards/"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._checkResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"putCardLike",value:function(e){return fetch("".concat(this._baseUrl,"cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"deleteCardLike",value:function(e){return fetch("".concat(this._baseUrl,"cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"editAvatar",value:function(e){return fetch("".concat(this._baseUrl,"users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._checkResponse)}}])&&B(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),D={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__save",inactiveButtonClass:"popup__save_inactive",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_active"},A=document.querySelector(".profile__edit"),V=document.querySelector(".profile__add"),F=document.querySelector(".profile__avatar-edit"),N=document.querySelector(".popup__input_type_name"),H=document.querySelector(".popup__input_type_info"),J=document.querySelector(".popup_edit"),G=document.querySelector(".popup_add"),M=document.querySelector(".popup_edit-avatar");function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=new T(".profile__title",".profile__text",".profile__avatar"),K=new i(D,J);K.enableValidation();var Q=new i(D,G);Q.enableValidation();var W=new i(D,M);W.enableValidation();var X=new L(".popup_open");X.setEventListeners();var Y=new _(".popup_edit",(function(e){Y.renderLoading(!0,"Сохранить"),ne.editUserInfo(e).then((function(e){ce(e),Y.closePopup()})).catch((function(e){console.log(e)})).finally((function(){Y.renderLoading(!1,"Сохранить")}))}));Y.setEventListeners();var Z=new _(".popup_add",(function(e){Z.renderLoading(!0,"Сохранить"),ne.addCard(e).then((function(e){re.addItem(ae(e)),Z.closePopup()})).catch((function(e){console.log(e)})).finally((function(){Z.renderLoading(!1,"Сохранить")}))}));Z.setEventListeners();var ee=new _(".popup_edit-avatar",(function(e){!function(e){ee.renderLoading(!0,"Сохранить"),ne.editAvatar(e).then((function(e){ce(e),ee.closePopup()})).catch((function(e){console.log(e)})).finally((function(){ee.renderLoading(!1,"Сохранить")}))}(e)}));ee.setEventListeners();var te=new R(".popup_delete");te.setEventListeners();var ne=new x({baseUrl:"https://mesto.nomoreparties.co/v1/cohort36/",headers:{authorization:"9bb3333e-8dc8-44bf-a219-29f503167caa","Content-Type":"application/json"}}),re=new r({renderer:function(e){var t=ae(e);re.addItem(t)}},".elements");function oe(e,t){X.openPopupImage(e,t)}function ie(e){te.openPopup(),te.handleSubmit((function(){ne.deleteCard(e.id).then((function(){e.deleteElement()})).then((function(){te.closePopup()})).catch((function(e){console.log(e)}))}))}function ue(e){e.isLiked()?ne.deleteCardLike(e.id).then((function(t){e.setLikes(t.likes)})).catch((function(e){console.log(e)})):ne.putCardLike(e.id).then((function(t){e.setLikes(t.likes)})).catch((function(e){console.log(e)})),console.log(e)}function ae(e){return new t(e,U,".element__template",oe,ue,ie).generateCard()}function ce(e){$.setUserInfo(e)}Promise.all([ne.getUserInfo(),ne.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];U=o._id,$.setUserInfo(o),re.renderItems(i)})).catch((function(e){console.log(e)})),A.addEventListener("click",(function(){var e;e=$.getUserInfo(),N.value=e.name,H.value=e.job,Y.openPopup(),K.resetErrorValidation()})),V.addEventListener("click",(function(){Z.openPopup(),Q.resetErrorValidation()})),F.addEventListener("click",(function(){ee.openPopup(),W.resetErrorValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQU16RCxFRXhIRixxQkZ3SDJCRSxHQUFpQkMsR0FBaUJDLElBQzNFMEwsZUFHakIsU0FBU3pCLEdBQVl0SyxHQUNuQjJKLEVBQVNXLFlBQVl0SyxHQXZFdkJ1SSxRQUFReUQsSUFBSSxDQUFDNUIsR0FBSTZCLGNBQWU3QixHQUFJOEIsb0JBQ2pDdEQsTUFBSyxZQUF1QixJLElBQUEsRyxFQUFBLEUsNENBQUEsSSxneEJBQXJCdUQsRUFBcUIsS0FBWGQsRUFBVyxLQUMzQnBMLEVBQVNrTSxFQUFTcEwsSUFDbEI0SSxFQUFTVyxZQUFZNkIsR0FFckJyQixHQUFRc0IsWUFBWWYsTUFFckJkLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsTUFzR2hCckIsRUFBUXRILGlCQUFpQixTQUFTLFdBckJsQyxJQUNRb0ssRUFBQUEsRUFBY3RDLEVBQVNzQyxjQUM3QjNDLEVBQVU5QyxNQUFReUYsRUFBWXpMLEtBQzlCK0ksRUFBUy9DLE1BQVF5RixFQUFZdkUsSUFvQjdCd0MsRUFBY3NCLFlBQ2Q1QixFQUFrQnlDLDBCQUdwQmpELEVBQU92SCxpQkFBaUIsU0FBUyxXQUMvQitJLEVBQWFZLFlBQ2IxQixFQUFpQnVDLDBCQUduQmhELEVBQWN4SCxpQkFBaUIsU0FBUyxXQUN0Q29KLEdBQWdCTyxZQUNoQnpCLEVBQW9Cc0MsMkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRGVsZXRlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIHVzZXJJZCwgY2FyZFNlbGVjdG9yLCBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZUxpa2VDbGljaywgaGFuZGxlRGVsZXRlQ2FyZCkge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XHJcbiAgICB0aGlzLl9vd25lciA9IGRhdGEub3duZXIuX2lkO1xyXG4gICAgdGhpcy5pZCA9IGRhdGEuX2lkOyAgXHJcblxyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gIFxyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCA9IGhhbmRsZURlbGV0ZUNhcmQ7XHJcblxyXG5cclxuICB9O1xyXG5cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50JylcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBkZWxldGVFbGVtZW50KCkge1xyXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xyXG4gIH07XHJcblxyXG4gIF9zZXRFdmVudExpc3RuZXJzKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudExpa2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKHRoaXMpKTtcclxuICAgIHRoaXMuX2VsZW1lbnREZWxldGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kbGVEZWxldGVDYXJkKHRoaXMpKTtcclxuICAgIHRoaXMuX2VsZW1lbnRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9saW5rLCB0aGlzLl9uYW1lKSk7XHJcbiAgfVxyXG4gIFxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG5cclxuICAgIC8v0L/QtdGA0LXQvNC10L3QvdGL0LVcclxuICAgIHRoaXMuX2VsZW1lbnRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2VsZW1lbnRMaWtlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2hlYXJ0XCIpO1xyXG4gICAgdGhpcy5fZWxlbWVudERlbGV0ZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19kZWxldGVcIik7XHJcbiAgICB0aGlzLl9lbGVtZW50TnVtYmVyTGlrZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19oZWFydC1udW1iZXJcIik7XHJcbiAgICAgICAgXHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190aXRsZScpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2VsZW1lbnRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fZWxlbWVudEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XHJcblxyXG4gICAgdGhpcy5fZWxlbWVudE51bWJlckxpa2UudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICBcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdG5lcnMoKTtcclxuICAgIHRoaXMuaGFuZGxlRGVsZXRlQnV0dG9uKCk7XHJcbiAgICB0aGlzLnVwZGF0ZUxpa2VCdXR0b24oKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcblxyXG4gIGNoZWNrQ2FyZE93bmVyKCkge1xyXG4gICAgaWYgKHRoaXMuX3VzZXJJZCA9PT0gdGhpcy5fb3duZXIpIHtcclxuICAgICAgcmV0dXJuKHRydWUpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVEZWxldGVCdXR0b24oKSB7XHJcbiAgICBpZiAodGhpcy5jaGVja0NhcmRPd25lcigpID09PSB0cnVlKSB7XHJcbiAgICAgIHRoaXMuX2VsZW1lbnREZWxldGUuY2xhc3NMaXN0LnJlbW92ZSgnZWxlbWVudF9fZGVsZXRlX2luYWN0aXZlJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9lbGVtZW50RGVsZXRlLmNsYXNzTGlzdC5hZGQoJ2VsZW1lbnRfX2RlbGV0ZV9pbmFjdGl2ZScpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaXNMaWtlZCgpIHtcclxuICAgcmV0dXJuIHRoaXMuX2xpa2VzLnNvbWUob3duZXIgPT4gb3duZXIuX2lkID09PSB0aGlzLl91c2VySWQpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlTGlrZUJ1dHRvbigpIHtcclxuICAgIGlmICh0aGlzLmlzTGlrZWQoKSkge1xyXG4gICAgICB0aGlzLl9lbGVtZW50TGlrZS5jbGFzc0xpc3QuYWRkKCdlbGVtZW50X19oZWFydF9hY3RpdmUnKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZWxlbWVudExpa2UuY2xhc3NMaXN0LnJlbW92ZSgnZWxlbWVudF9faGVhcnRfYWN0aXZlJyl9XHJcbiAgfVxyXG5cclxuICBfdXBkYXRlTGlrZU51bWJlcigpIHtcclxuICAgIHRoaXMuX2VsZW1lbnROdW1iZXJMaWtlLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gICAgdGhpcy5fZWxlbWVudExpa2UuY2xhc3NMaXN0LnRvZ2dsZSgnZWxlbWVudF9faGVhcnRfYWN0aXZlJylcclxuICB9XHJcbiAgXHJcbiAgc2V0TGlrZXMoZGF0YUNhcmQpIHtcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YUNhcmQ7XHJcbiAgICB0aGlzLl91cGRhdGVMaWtlTnVtYmVyKCk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3Ioe3JlbmRlcmVyfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcblxyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoaXRlbXMpIHtcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTsgXHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IodmFsaWRhdGlvbkNvbmZpZywgZWxlbWVudEZvcm0pIHtcclxuICAgIHRoaXMuX3ZhbGlkYXRpb25Db25maWcgPSB2YWxpZGF0aW9uQ29uZmlnO1xyXG4gICAgdGhpcy5fZWxlbWVudEZvcm0gPSBlbGVtZW50Rm9ybTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2VsZW1lbnRGb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2VsZW1lbnRGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2VsZW1lbnRGb3JtLnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9lbGVtZW50Rm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XHJcbiAgfTtcclxuXHJcbiAgX2lzVmFsaWQoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXIoKSB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faXNWYWxpZChpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXIoKTtcclxuICB9O1xyXG5cclxuICByZXNldEVycm9yVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKClcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudClcclxuICAgIH0pO1xyXG4gIH1cclxufTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgb3BlblBvcHVwKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VQb3B1cCgpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcclxuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldnQpID0+IHtcclxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9vcGVuZWQnKSB8fCBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX2Nsb3NlJykpIHtcclxuICAgICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvciwgc3VibWl0Rm9ybUZ1bmN0aW9uKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3N1Ym1pdEZvcm1GdW5jdGlvbiA9IHN1Ym1pdEZvcm1GdW5jdGlvbjtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dCcpO1xyXG4gICAgLy8gdGhpcy5fc3VibWl0QnV0dG9uID0gIHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc2F2ZScpO1xyXG4gICAgXHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBmb3JtVmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiBmb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWUpO1xyXG4gICAgXHJcbiAgICByZXR1cm4gZm9ybVZhbHVlcztcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEZvcm1GdW5jdGlvbih0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VQb3B1cCgpIHtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICAgIHN1cGVyLmNsb3NlUG9wdXAoKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nLCBidXR0b25UZXh0KSB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSAgdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19zYXZlJyk7XHJcbiAgICBpZiAoaXNMb2FkaW5nKSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IGDQodC+0YXRgNCw0L3QtdC90LjQtS4uLmA7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gYnV0dG9uVGV4dDtcclxuICAgIH1cclxuICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW1hZ2VQb3B1cFBpY3R1cmUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJyk7XHJcbiAgICB0aGlzLl9zdWJ0aXRsZVBvcHVwID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19zdWJ0aXRsZScpO1xyXG4gIH1cclxuICBcclxuICBvcGVuUG9wdXBJbWFnZSA9IChsaW5rLG5hbWUpID0+IHtcclxuICAgIFxyXG4gICAgdGhpcy5faW1hZ2VQb3B1cFBpY3R1cmUuc3JjID0gbGluaztcclxuICAgIHRoaXMuX2ltYWdlUG9wdXBQaWN0dXJlLmFsdCA9IG5hbWU7XHJcbiAgICB0aGlzLl9zdWJ0aXRsZVBvcHVwLnRleHRDb250ZW50ID0gbmFtZTtcclxuXHJcbiAgICBzdXBlci5vcGVuUG9wdXAoKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhEZWxldGUgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtX2RlbGV0ZScpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlU3VibWl0KGhhbmRsZXIpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIgPSBoYW5kbGVyXHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIoKVxyXG4gICAgfSk7XHJcbiAgfTtcclxufTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IobmFtZVNlbGVjdG9yLCBqb2JTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9qb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYlNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICBjb25zdCB1c2VySW5mbyA9IHtcclxuICAgICAgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgam9iOiB0aGlzLl9qb2IudGV4dENvbnRlbnRcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHVzZXJJbmZvO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oaW5mbykge1xyXG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IGluZm8ubmFtZTtcclxuICAgIHRoaXMuX2pvYi50ZXh0Q29udGVudCA9IGluZm8uYWJvdXQ7XHJcbiAgICB0aGlzLl9hdmF0YXIuc3JjID0gaW5mby5hdmF0YXI7XHJcbiAgICB0aGlzLl9pZCA9IGluZm8uX2lkO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcclxuaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoRGVsZXRlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRGVsZXRlLmpzJ1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XHJcbmltcG9ydCBBcGkgZnJvbSAnLi4vY29tcG9uZW50cy9BcGkuanMnO1xyXG5pbXBvcnQge1xyXG4gIGVsZW1lbnREZWxldGUsXHJcbiAgdmFsaWRhdGlvbkNvbmZpZyxcclxuICBwb3B1cEVkaXQsXHJcbiAgcG9wdXBBZGQsXHJcbiAgcG9wdXBBdmF0YXIsXHJcbiAgbmFtZVBvcHVwLFxyXG4gIGpvYlBvcHVwLFxyXG4gIGVkaXRCdG4sXHJcbiAgYWRkQnRuLFxyXG4gIGVkaXRCdG5BdmF0YXIsXHJcbiAgaW1hZ2VQb3B1cFNlbGVjdG9yLFxyXG4gIGNhcmROZXdTZWxlY3RvcixcclxuICBzZWN0aW9uU2VsZWN0b3IsXHJcbiAgbmFtZVByb2ZpbGVTZWxlY3RvcixcclxuICBqb2JQcm9maWxlU2VsZWN0b3IsXHJcbiAgYXZhdGFyUHJvZmlsZVNlbGVjdG9yLFxyXG4gIGVkaXRGb3JtU2VsZWN0b3IsXHJcbiAgYWRkRm9ybVNlbGVjdG9yLFxyXG4gIGVkaXRBdmF0YXJTZWxlY3RvclxyXG59IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XHJcblxyXG5sZXQgdXNlcklkXHJcblxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhuYW1lUHJvZmlsZVNlbGVjdG9yLCBqb2JQcm9maWxlU2VsZWN0b3IsIGF2YXRhclByb2ZpbGVTZWxlY3Rvcik7XHJcblxyXG4vL9Cy0LDQu9C40LTQsNGG0LjRjyDRhNC+0YDQvFxyXG5jb25zdCBlZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIHBvcHVwRWRpdCk7XHJcbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IGFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBwb3B1cEFkZCk7XHJcbmFkZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIHBvcHVwQXZhdGFyKTtcclxuYXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBpbWFnZVdpdGhQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShpbWFnZVBvcHVwU2VsZWN0b3IpO1xyXG5pbWFnZVdpdGhQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgcG9wdXBFZGl0Rm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKGVkaXRGb3JtU2VsZWN0b3IsIGVkaXRVc2VySW5mbyk7XHJcbnBvcHVwRWRpdEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IHBvcHVwQWRkRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKGFkZEZvcm1TZWxlY3Rvciwgc2F2ZU5ld0NhcmQpO1xyXG5wb3B1cEFkZEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IHBvcHVwRWRpdEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKGVkaXRBdmF0YXJTZWxlY3RvciwgKGRhdGEpID0+IHsgZWRpdEF2YXRhcihkYXRhKSB9KTtcclxucG9wdXBFZGl0QXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKClcclxuXHJcbmNvbnN0IGRlbGV0ZVdpdGhQb3B1cCA9IG5ldyBQb3B1cFdpdGhEZWxldGUoZWxlbWVudERlbGV0ZSk7XHJcbmRlbGV0ZVdpdGhQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQzNi8nLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246ICc5YmIzMzMzZS04ZGM4LTQ0YmYtYTIxOS0yOWY1MDMxNjdjYWEnLFxyXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gIH1cclxufSk7XHJcblxyXG5jb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24oe1xyXG4gIHJlbmRlcmVyOiAoY2FyZHMpID0+IHtcclxuICAgIGNvbnN0IGNhcmQgPSBjcmVhdE5ld0NhcmQoY2FyZHMpO1xyXG4gICAgc2VjdGlvbi5hZGRJdGVtKGNhcmQpO1xyXG4gIH0sXHJcbn0sIHNlY3Rpb25TZWxlY3Rvcik7XHJcblxyXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRJbml0aWFsQ2FyZHMoKV0pXHJcbiAgLnRoZW4oKFt1c2VyRGF0YSwgY2FyZHNdKSA9PiB7XHJcbiAgICB1c2VySWQgPSB1c2VyRGF0YS5faWQ7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YSk7XHJcblxyXG4gICAgc2VjdGlvbi5yZW5kZXJJdGVtcyhjYXJkcyk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZXJyKTtcclxuICB9KTtcclxuXHJcbmZ1bmN0aW9uIGVkaXRBdmF0YXIoZGF0YSkge1xyXG4gIHBvcHVwRWRpdEF2YXRhci5yZW5kZXJMb2FkaW5nKHRydWUsICfQodC+0YXRgNCw0L3QuNGC0YwnKTtcclxuICBhcGkuZWRpdEF2YXRhcihkYXRhKVxyXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgc2V0VXNlckluZm8oZGF0YSk7XHJcbiAgICAgIHBvcHVwRWRpdEF2YXRhci5jbG9zZVBvcHVwKClcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgcG9wdXBFZGl0QXZhdGFyLnJlbmRlckxvYWRpbmcoZmFsc2UsICfQodC+0YXRgNCw0L3QuNGC0YwnKTtcclxuICAgIH0pXHJcbn07XHJcblxyXG4vLyDQvtGC0LrRgNGL0YLRjCDQutCw0YDRgtC40L3QutGDXHJcbmZ1bmN0aW9uIGhhbmRsZUNhcmRDbGljayhsaW5rLCBuYW1lKSB7XHJcbiAgaW1hZ2VXaXRoUG9wdXAub3BlblBvcHVwSW1hZ2UobGluaywgbmFtZSk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVDYXJkKGNhcmQpIHtcclxuICBkZWxldGVXaXRoUG9wdXAub3BlblBvcHVwKCk7XHJcbiAgZGVsZXRlV2l0aFBvcHVwLmhhbmRsZVN1Ym1pdCgoKSA9PiB7XHJcbiAgICBhcGkuZGVsZXRlQ2FyZChjYXJkLmlkKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgY2FyZC5kZWxldGVFbGVtZW50KCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBkZWxldGVXaXRoUG9wdXAuY2xvc2VQb3B1cCgpXHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSlcclxuICB9KVxyXG59O1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlTGlrZUNsaWNrKGNhcmQpIHtcclxuICBpZiAoY2FyZC5pc0xpa2VkKCkpIHtcclxuICAgIGFwaS5kZWxldGVDYXJkTGlrZShjYXJkLmlkKVxyXG4gICAgICAudGhlbihkYXRhQ2FyZCA9PiB7IGNhcmQuc2V0TGlrZXMoZGF0YUNhcmQubGlrZXMpIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGFwaS5wdXRDYXJkTGlrZShjYXJkLmlkKVxyXG4gICAgICAudGhlbihkYXRhQ2FyZCA9PiB7IGNhcmQuc2V0TGlrZXMoZGF0YUNhcmQubGlrZXMpIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG4gIGNvbnNvbGUubG9nKGNhcmQpXHJcbn07XHJcblxyXG4vLyDRgdC+0LfQtNCw0YLRjCDRjdC60LfQtdC80L/Qu9GP0YAg0LrQsNGA0YLQvtGH0LrQuFxyXG5mdW5jdGlvbiBjcmVhdE5ld0NhcmQoaXRlbSkge1xyXG4gIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZChpdGVtLCB1c2VySWQsIGNhcmROZXdTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVMaWtlQ2xpY2ssIGhhbmRsZURlbGV0ZUNhcmQpO1xyXG4gIHJldHVybiBuZXdDYXJkLmdlbmVyYXRlQ2FyZCgpXHJcbn07XHJcblxyXG5mdW5jdGlvbiBzZXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBlZGl0VXNlckluZm8oZGF0YSkge1xyXG4gIHBvcHVwRWRpdEZvcm0ucmVuZGVyTG9hZGluZyh0cnVlLCAn0KHQvtGF0YDQsNC90LjRgtGMJyk7XHJcbiAgYXBpLmVkaXRVc2VySW5mbyhkYXRhKVxyXG4gICAgLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgIHNldFVzZXJJbmZvKGRhdGEpO1xyXG4gICAgICBwb3B1cEVkaXRGb3JtLmNsb3NlUG9wdXAoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgcG9wdXBFZGl0Rm9ybS5yZW5kZXJMb2FkaW5nKGZhbHNlLCAn0KHQvtGF0YDQsNC90LjRgtGMJyk7XHJcbiAgICB9KVxyXG59O1xyXG5cclxuZnVuY3Rpb24gc2V0SW5wdXRWYWx1ZSgpIHtcclxuICBjb25zdCBnZXRVc2VySW5mbyA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgbmFtZVBvcHVwLnZhbHVlID0gZ2V0VXNlckluZm8ubmFtZTtcclxuICBqb2JQb3B1cC52YWx1ZSA9IGdldFVzZXJJbmZvLmpvYjtcclxufTtcclxuXHJcbmZ1bmN0aW9uIHNhdmVOZXdDYXJkKGRhdGEpIHtcclxuICBwb3B1cEFkZEZvcm0ucmVuZGVyTG9hZGluZyh0cnVlLCAn0KHQvtGF0YDQsNC90LjRgtGMJyk7XHJcbiAgYXBpLmFkZENhcmQoZGF0YSlcclxuICAgIC50aGVuKGRhdGEgPT4ge1xyXG4gICAgICBzZWN0aW9uLmFkZEl0ZW0oY3JlYXROZXdDYXJkKGRhdGEpKVxyXG4gICAgICBwb3B1cEFkZEZvcm0uY2xvc2VQb3B1cCgpXHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHBvcHVwQWRkRm9ybS5yZW5kZXJMb2FkaW5nKGZhbHNlLCAn0KHQvtGF0YDQsNC90LjRgtGMJyk7XHJcbiAgICB9KVxyXG59O1xyXG5cclxuZWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBzZXRJbnB1dFZhbHVlKCk7XHJcbiAgcG9wdXBFZGl0Rm9ybS5vcGVuUG9wdXAoKTtcclxuICBlZGl0Rm9ybVZhbGlkYXRvci5yZXNldEVycm9yVmFsaWRhdGlvbigpO1xyXG59KTtcclxuXHJcbmFkZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBwb3B1cEFkZEZvcm0ub3BlblBvcHVwKCk7XHJcbiAgYWRkRm9ybVZhbGlkYXRvci5yZXNldEVycm9yVmFsaWRhdGlvbigpO1xyXG59KTtcclxuXHJcbmVkaXRCdG5BdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgcG9wdXBFZGl0QXZhdGFyLm9wZW5Qb3B1cCgpO1xyXG4gIGF2YXRhckZvcm1WYWxpZGF0b3IucmVzZXRFcnJvclZhbGlkYXRpb24oKTtcclxufSk7IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcclxuICB9XHJcblxyXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH1cclxuICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKXtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfXVzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMgICBcclxuICAgIH0pXHJcbiAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTsgICBcclxuICB9O1xyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkcy9gLCB7XHJcbiAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgIH0pXHJcbiAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTsgICBcclxuICB9O1xyXG5cclxuICBlZGl0VXNlckluZm8oZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9dXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSlcclxuICAgIH0pXHJcbiAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTsgICBcclxuICB9O1xyXG5cclxuICBhZGRDYXJkKGRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfWNhcmRzL2AsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7ICAgXHJcbiAgfTtcclxuXHJcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfWNhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpOyAgIFxyXG4gIH1cclxuXHJcbiAgcHV0Q2FyZExpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pXHJcbiAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTsgICBcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmRMaWtlKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9Y2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7ICAgXHJcbiAgfVxyXG5cclxuICBlZGl0QXZhdGFyKGRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfXVzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7ICAgXHJcbiAgfVxyXG59OyIsImV4cG9ydCBjb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fZm9ybScsXHJcbiAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19zYXZlJyxcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX3NhdmVfaW5hY3RpdmUnLFxyXG4gIGlucHV0RXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dF90eXBlX2Vycm9yJyxcclxuICBlcnJvckNsYXNzOiAncG9wdXBfX2lucHV0LWVycm9yX2FjdGl2ZSdcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBlZGl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQnKTtcclxuZXhwb3J0IGNvbnN0IGFkZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQnKTtcclxuZXhwb3J0IGNvbnN0IGVkaXRCdG5BdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyLWVkaXQnKTtcclxuXHJcbmV4cG9ydCBjb25zdCBuYW1lUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3R5cGVfbmFtZScpO1xyXG5leHBvcnQgY29uc3Qgam9iUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3R5cGVfaW5mbycpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHBvcHVwRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9lZGl0Jyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9hZGQnKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2VkaXQtYXZhdGFyJyk7XHJcblxyXG5leHBvcnQgY29uc3QgaW1hZ2VQb3B1cFNlbGVjdG9yID0gJy5wb3B1cF9vcGVuJztcclxuZXhwb3J0IGNvbnN0IGNhcmROZXdTZWxlY3RvciA9ICcuZWxlbWVudF9fdGVtcGxhdGUnO1xyXG5leHBvcnQgY29uc3Qgc2VjdGlvblNlbGVjdG9yID0gJy5lbGVtZW50cyc7XHJcbmV4cG9ydCBjb25zdCBuYW1lUHJvZmlsZVNlbGVjdG9yID0gJy5wcm9maWxlX190aXRsZSc7XHJcbmV4cG9ydCBjb25zdCBqb2JQcm9maWxlU2VsZWN0b3IgPSAnLnByb2ZpbGVfX3RleHQnO1xyXG5leHBvcnQgY29uc3QgYXZhdGFyUHJvZmlsZVNlbGVjdG9yID0gJy5wcm9maWxlX19hdmF0YXInO1xyXG5leHBvcnQgY29uc3QgZWRpdEZvcm1TZWxlY3RvciA9ICcucG9wdXBfZWRpdCc7XHJcbmV4cG9ydCBjb25zdCBhZGRGb3JtU2VsZWN0b3IgPSAnLnBvcHVwX2FkZCc7XHJcbmV4cG9ydCBjb25zdCBlZGl0QXZhdGFyU2VsZWN0b3IgPSAnLnBvcHVwX2VkaXQtYXZhdGFyJztcclxuZXhwb3J0IGNvbnN0IGVsZW1lbnREZWxldGUgPSAnLnBvcHVwX2RlbGV0ZSc7Il0sIm5hbWVzIjpbIkNhcmQiLCJkYXRhIiwidXNlcklkIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwiaGFuZGxlRGVsZXRlQ2FyZCIsInRoaXMiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9vd25lciIsIm93bmVyIiwiX2lkIiwiaWQiLCJfdXNlcklkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlTGlrZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUNhcmQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJyZW1vdmUiLCJfZWxlbWVudExpa2UiLCJhZGRFdmVudExpc3RlbmVyIiwiX2VsZW1lbnREZWxldGUiLCJfZWxlbWVudEltYWdlIiwiX2dldFRlbXBsYXRlIiwiX2VsZW1lbnROdW1iZXJMaWtlIiwidGV4dENvbnRlbnQiLCJzcmMiLCJhbHQiLCJsZW5ndGgiLCJfc2V0RXZlbnRMaXN0bmVycyIsImhhbmRsZURlbGV0ZUJ1dHRvbiIsInVwZGF0ZUxpa2VCdXR0b24iLCJjaGVja0NhcmRPd25lciIsImNsYXNzTGlzdCIsImFkZCIsInNvbWUiLCJpc0xpa2VkIiwidG9nZ2xlIiwiZGF0YUNhcmQiLCJfdXBkYXRlTGlrZU51bWJlciIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImVsZW1lbnQiLCJwcmVwZW5kIiwiaXRlbXMiLCJmb3JFYWNoIiwiaXRlbSIsIkZvcm1WYWxpZGF0b3IiLCJ2YWxpZGF0aW9uQ29uZmlnIiwiZWxlbWVudEZvcm0iLCJfdmFsaWRhdGlvbkNvbmZpZyIsIl9lbGVtZW50Rm9ybSIsIl9zdWJtaXRCdXR0b24iLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGFzSW52YWxpZElucHV0Iiwic2V0QXR0cmlidXRlIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsInJlbW92ZUF0dHJpYnV0ZSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9pc1ZhbGlkIiwiX3NldEV2ZW50TGlzdGVuZXIiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJldnQiLCJrZXkiLCJjbG9zZVBvcHVwIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsInN1Ym1pdEZvcm1GdW5jdGlvbiIsIl9zdWJtaXRGb3JtRnVuY3Rpb24iLCJfZm9ybSIsImZvcm1WYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsImlzTG9hZGluZyIsImJ1dHRvblRleHQiLCJQb3B1cFdpdGhJbWFnZSIsIl9pbWFnZVBvcHVwUGljdHVyZSIsIl9zdWJ0aXRsZVBvcHVwIiwiUG9wdXBXaXRoRGVsZXRlIiwiaGFuZGxlciIsIl9zdWJtaXRIYW5kbGVyIiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX2pvYiIsIl9hdmF0YXIiLCJqb2IiLCJpbmZvIiwiYWJvdXQiLCJhdmF0YXIiLCJBcGkiLCJvcHRpb25zIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwibWV0aG9kIiwidGhlbiIsIl9jaGVja1Jlc3BvbnNlIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkSWQiLCJmb3JtU2VsZWN0b3IiLCJlZGl0QnRuIiwiYWRkQnRuIiwiZWRpdEJ0bkF2YXRhciIsIm5hbWVQb3B1cCIsImpvYlBvcHVwIiwicG9wdXBFZGl0IiwicG9wdXBBZGQiLCJwb3B1cEF2YXRhciIsInVzZXJJbmZvIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwiYWRkRm9ybVZhbGlkYXRvciIsImF2YXRhckZvcm1WYWxpZGF0b3IiLCJpbWFnZVdpdGhQb3B1cCIsInNldEV2ZW50TGlzdGVuZXJzIiwicG9wdXBFZGl0Rm9ybSIsInJlbmRlckxvYWRpbmciLCJhcGkiLCJlZGl0VXNlckluZm8iLCJzZXRVc2VySW5mbyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImZpbmFsbHkiLCJwb3B1cEFkZEZvcm0iLCJhZGRDYXJkIiwic2VjdGlvbiIsImFkZEl0ZW0iLCJjcmVhdE5ld0NhcmQiLCJwb3B1cEVkaXRBdmF0YXIiLCJlZGl0QXZhdGFyIiwiZGVsZXRlV2l0aFBvcHVwIiwiYXV0aG9yaXphdGlvbiIsImNhcmRzIiwiY2FyZCIsIm9wZW5Qb3B1cEltYWdlIiwib3BlblBvcHVwIiwiaGFuZGxlU3VibWl0IiwiZGVsZXRlQ2FyZCIsImRlbGV0ZUVsZW1lbnQiLCJkZWxldGVDYXJkTGlrZSIsInNldExpa2VzIiwicHV0Q2FyZExpa2UiLCJnZW5lcmF0ZUNhcmQiLCJhbGwiLCJnZXRVc2VySW5mbyIsImdldEluaXRpYWxDYXJkcyIsInVzZXJEYXRhIiwicmVuZGVySXRlbXMiLCJyZXNldEVycm9yVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=